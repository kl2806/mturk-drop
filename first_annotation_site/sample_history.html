<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Smart Question Answering</title>
    <link href="main.css" rel="stylesheet" />
    <script src="main.js"></script>

</head>
<body>
    <form name='mturk_form' method='post' id='mturk_form' action='https://www.mturk.com/mturk/externalSubmit'>
        <input type='hidden' value='' name='assignmentId' id='assignmentId' />
        <div id="root">
            <h2>Complex question answering with high-level reasoning and inference</h2>
            <a href="collapse" onclick="return collapse();" id="collapse_link"><u>(Click to collapse)</u></a>
            <div class="annotated">
                <div>
                    <p>
                        This task involves creating questions and answers from a given passage that involve some kind of complex reasoning.
                        The answer to the question can be words from the passage, dates, or numbers.  The most important point is that the
                        questions require looking at more than one part of the passage to answer.  We will make sure that the questions are
                        sufficiently complex by running a simple question answering system on your question; if the system gets the answer
                        right, the question is too easy.  The more you create challenging questions, the more you earn.
                    </p>
                    <p>
                        Below, we provide some example questions that involve different kinds of reasoning.  Try to use a variety of
                        reasoning types in the questions you come up with, and also have a variety of answer types (spans, numbers, dates).
                        A <b><i>span</i></b> is a continuous phrase taken directly from the passage or question. You can directly copy-paste the text from the
                        passage or question into span box. If you find multiple spans, please use the '+/-' button to add/remove. Please restrict each span to five words.
                        You can either separate a span into multiple spans if the answer is a list. If you are unable to do so, please try writing a more specific question.
                        A <b><i>number</i></b> type answer can include a digit specifying an actual value. Number-type answer can only accept a <i>"How many ..."</i> type question.
                        So remember to phrase the corresponding question for any number-type answer correctly. For instance, <i>"How long did an event last?"</i> can
                        be phrased as <i>"How many years did an event last?"</i>.  A <b><i>date</i></b> type answer can be used to specify a date with the help of a date selector.
                    </p>
                </div>
                <div align="left">
                    <h4>
                        <b>Example questions</b>
                    </h4>
                    <p style="text-align:center">Move your mouse over a question to highlight the part of the passage that answers the question.</p>
                </div>

                <div class="left_panel">
                    <h2>Passage</h2>
                    <div class="passage-sample">
                        Austria-Hungary precipitated the <span class="ans_span1">Bosnian crisis of 1908-1909</span>
                        by <span class="ans_span8">officially annexing the former Ottoman territory of Bosnia and Herzegovina</span>, which it had
                        occupied since <span class="ans_span3">1878 </span>. This <span class="ans_span9">
                            angered the Kingdom of Serbia and
                            its patron, the Pan-Slavic and Orthodox Russian Empire
                        </span>. Russian political manoeuvring in the
                        region destabilised peace accords that were already fracturing in the Balkans, which came to
                        be known as the "powder keg of Europe." In <span class="ans_span4">
                            1912 and 1913, the First Balkan War
                        </span> was fought between the Balkan League and the fracturing Ottoman Empire.
                        The resulting Treaty of London further <span class="ans_span6">
                            shrank the Ottoman Empire, creating an independent Albanian state while enlarging the
                            territorial holdings of Bulgaria, Serbia, Montenegro, and Greece
                        </span>. When <span class="ans_span2">
                            Bulgaria attacked Serbia
                            and Greece on 16 June 1913
                        </span>, it <span class="ans_span10">
                            lost most of Macedonia to Serbia and Greece
                        </span>, and Southern Dobruja to Romania in the <span class="ans_span5">
                            33-day Second Balkan War
                        </span> , further destabilising the region. The Great Powers were able to keep these
                        Balkan conflicts contained, but the next one would spread throughout Europe and beyond.
                    </div>
                </div>

                <div class="right_panel_sample">
                    <div class="tab qapairs">
                        <h3>Addition or Subtraction</h3>
                        <div class="query" onmouseover="highlight_q1();" onmouseout="reset_higlight();">
                            Question : How many years did it take for Austria-Hungary to annex Bosnia and Herzegovina? <br />
                            Answer : 31 (number)<br />
                        </div>
                        <div class="query" onmouseover="highlight_q2();" onmouseout="reset_higlight();">
                            Question : When did the Second Balkan war end? <br />
                            Answer : 19 July 1913 (date)<br />
                        </div>
                        <div class="query" onmouseover="highlight_q3();" onmouseout="reset_higlight();">
                            Question : How many years did the Bosnian Crisis last? <br />
                            Answer : 1 (number) <br />
                        </div>
                        <hr>
                        <h3>Set Overlap or Joins</h3>
                        <div class="query" onmouseover="highlight_q4();" onmouseout="reset_higlight();">
                            Question : In which year did the two wars, First Balkan war and Bulgarian attack on Serbias and Greece overlap? <br />
                            Answer : 1913 (date)
                        </div>
                        <div class="query" onmouseover="highlight_q5();" onmouseout="reset_higlight();">
                            Question : Which two wars were ongoing in 1913? <br />
                            Answer : "First Balkan war", "Second Balkan War" (two separate spans)
                        </div>
                        <div class="query" onmouseover="highlight_q9();" onmouseout="reset_higlight();">
                            Question : Which country started the Second Balkan War? <br />
                            Answer : Bulgaria (span from passage)
                        </div>
                        <hr>
                        <h3>Comparison</h3>
                        <div class="query" onmouseover="highlight_q10();" onmouseout="reset_higlight();">
                            Question :  Which region became part of Serbia later, Ottoman empire or Macedonia? <br />
                            Answer : Macedonia (span from passage)
                        </div>
                        <hr>
                        <h3>Count</h3>
                        <div class="query" onmouseover="highlight_q7();" onmouseout="reset_higlight();">
                            Question : How many countries were enlarged as a part of Treaty of London? <br />
                            Answer : 4 (number)<br />
                        </div>
                        <hr>
                        <h3>Find minimum or maximum</h3>
                        <div class="query" onmouseover="highlight_q8();" onmouseout="reset_higlight();">
                            Question : Which was the first war to have happened? <br />
                            Answer : Bosnian Crisis (span from passage)
                        </div>
                        <hr>
                    </div>
                </div>

                <h2 id="Q1">Let's start writing some questions now!</h2>
                <h4> <b>The Rules of the task are as follows : </b></h4>
                <ol>
                    <li> Given a passage, you need to create questions that can be answered from the passage. </li>
                    <li>
                        You have five passages to pick from, and between these five passages, you must create at least 12 questions to
                        submit the HIT.
                    </li>
                    <li>
                        Once you create the question, you need to write its answer, either in the form of a date, a number, or spans
                        copied directly from the passage.
                    </li>
                    <li> There is an AI running in the background which will also try to answer the question.</li>
                    <li> You won't be able to submit the question if the AI gives the same reponse. </li>
                    <li>
                        You can go back and forth between the passages, and you can edit questions by clicking on them.  Once you have
                        finished all 12 questions, go to the last passage to submit the HIT.
                    </li>
                    <li>
                        Some passages are easier to generate questions from than others, so if you have a hard time, move to a different passage.
                    </li>
                    <li>
                        If the "ADD QUESTION" or "READY TO SUBMIT HIT" buttons are not active, hover your mouse on them to know the reason.
                    </li>
                </ol>
            </div>

            <h2>Please look at the newly added multi-span question answers example above.</h2>

            <!--  <div class="main-container">
            <br />
            <div class="notes">
             Just as a reminder, here are some patterns that often give good questions.  Combining ideas
             from several of these examples is even better. It's often good to use comparatives ("more", "longer", "farther")
             or superlatives ("most", "shortest") in questions. Here are some example question types for more help. Please note that
             these are just templates, DO NOT use the word <b>"EVENT"</b> directly in the question, replace it with an actual event mention.
             <br />
             <br />
             <div class="notes-wrapper">

            <div class="note"> How many days or months or years did some event take? </div>
            <div class="note"> When did the two events overlap? </div>

            <div class="note"> How many years did the two events overlap? </div>
            <div class="note"> Which event happened first, X or Y? </div>
            <div class="note"> When did the first or the last of something happen? </div>
            <div class="note"> Who had the most or least of something? </div>

                </div>
            </div>-->
            <br />

            <br />

            <div class="passage_num">
            </div>
            <br />
            <div class="panel">
                <div class="left_panel">
                    <div class="passage">
                        <h2>Passage</h2>
                        <div class="passage-0">
                        </div>
                    </div>
                </div>

                <div class="right_panel">
                    <h2>Type a question based on the passage below</h2>
                    <div class="question">
                        <input type="text" id="input-question" onkeyup="initialize_answer();">
                    </div>
                    <div id="wrapper-outer">
                        <div id="wrapper">
                            <div id="leftcolumn">
                                <div class="answer" align="center">
                                    <h4>Your Answer</h4>
                                    <table id="ans_table">
                                        <tr id="date_row">
                                            <td>
                                                <input type="radio" name="answer" id="date" value='date' onchange="create_input_date();">Date
                                            </td>
                                        </tr>
                                        <tr id="date_row_1" style="display:none">
                                            <td align="center">Year</td>
                                            <td align="center">Month</td>
                                            <td align="center">Date</td>
                                        </tr>
                                        <tr id="date_row_2" style="display:none">
                                            <td align="center">
                                                <input type="number" id="year" name="year" min="1" max="3000" onkeyup="run_validations_date_digit();">
                                            </td>
                                            <td align="center">
                                                <select id="month" name="month" onchange="run_validations_date_digit();">
                                                    <option></option>
                                                    <option>January</option>
                                                    <option>February</option>
                                                    <option>March</option>
                                                    <option>April</option>
                                                    <option>May</option>
                                                    <option>June</option>
                                                    <option>July</option>
                                                    <option>August</option>
                                                    <option>September</option>
                                                    <option>October</option>
                                                    <option>November</option>
                                                    <option>December</option>
                                                </select>
                                            </td>
                                            <td align="center">
                                                <input type="number" id="day" name="day" min="1" max="31" onkeyup="run_validations_date_digit();">
                                            </td>
                                        </tr>

                                        <tr id="digit_row">
                                            <td>
                                                <input type="radio" id="digit" name="answer" value="digit" onchange="create_input_digit();">Number
                                            </td>
                                        </tr>
                                        <tr id="digit_row_1" style="display:none">
                                            <td align="center">Value</td>
                                            <td align="center" style="display:none">Unit</td>
                                        </tr>

                                        <tr id="digit_row_2" style="display:none">
                                            <td align="center">
                                                <input type="number" id="value" name="value" onkeyup="run_validations_date_digit();">
                                            </td>
                                            <td align="center" style="display:none">
                                                <input type="text" id="unit" name="unit" placeholder="years, months etc." onkeyup="run_validations_date_digit();">
                                            </td>
                                        </tr>

                                        <tr id="span_row">
                                            <td>
                                                <input type="radio" name="answer" id="span" value='span' onchange="return add_span(this);">Select span
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                            </div>

                            <div id="rightcolumn">
                                <h4>AI predicted the answer below <br />(wait for answer to appear below)</h4>
                                <div class="ai_answer" align="center">
                                    <input id="ai-answer" type="text" readonly />
                                </div>
                            </div>
                        </div>


                        <div class="horizontal-scroll-wrapper">
                        </div>
                        <br />
                        <div id="bottomrow">
                            <button id="next_question" type="button" class="btn-submit" onclick="create_question();">
                                Add Question
                            </button>
                            <div id="error_panel">
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <div class="bottom_panel">

                <button id="ready_submit" type="button" class="btn" onclick="final_submit()" onmouseover="check_question_count();">
                    Ready to Submit HIT
                </button>

                <button id="prev_passage" type="button" class="btn" onclick="populate_passage('previous');">
                    Previous Passage
                </button>

                <button id="next_passage" type="button" class="btn" onclick="populate_passage('next');">
                    Next Passage
                </button>

            </div>
        </div>
       
        <br />
        <br />
        <div id="comment">
            <textarea type="text" name="feedback" id="feedback" rows="10" cols="20" placeholder="Please leave your feedback here."></textarea>
        </div>

        <div id="generated_answers">
        </div>

        <div id="submission" style="display:none">
            <h2>Thank you for helping our research!</h2>
        </div>
        <br />

        <div id="submission_container">
            <!--<input type='submit' class="btn" id='submitButton' disabled value='Submit HIT' style="display:none;margin-left:45%" />-->
        </div>

    </form>
        <script language='Javascript'>turkSetAssignmentID();</script>
    </body>

    </html>
